var DraggablePage={_target:null,_useCSS3:!1,_handlingRelease:!1,_targetX:null,_targetY:null,_mouseX:null,_mouseY:null,_options:{},_defaults:{direction:"up",pivotPoint:.8,animation:{duration:400,fade:!1}},init:function(a,b){this.handleOptions(b),this._target=a;var c=this;"undefined"!=typeof Modernizr&&(this._useCSS3=Modernizr.csstransitions),$(window).on("orientationchange resize",function(a){c.onResize(a,c)}),$(window).triggerHandler("resize"),this._target.on("mousedown",function(a){c.onGrab(a,c)}),this._target.on("mouseup mouseleave",function(a){c.onRelease(a,c)})},handleOptions:function(a){if(this._options=$.extend(!0,{},this._defaults,a),-1==$.inArray(this._options.direction,["up","down","left","right"]))throw"Invalid direction given for jQuery DraggablePage";if(this._options.pivotPoint<0||this._options.pivotPoint>1)throw"Invalid pivot point given, please specify a value between 0 and 1"},onResize:function(a,b){b._target.height($(window).height())},onGrab:function(a,b){b._targetX=b._target.position().left,b._targetY=b._target.position().top,b._mouseX=a.pageX,b._mouseY=a.pageY,b._handlingRelease=!1,b._target.addClass("no-transitions"),b._target.addClass("no-select"),$(document.body).attr("unselectable","on"),b._target.on("mousemove",function(a){b.onMove(a,b)})},onRelease:function(a,b){if(!b._handlingRelease){b._target.unbind("mousemove"),b._handlingRelease=!0;var c=b._options.direction,d=null;if(b._target.removeClass("no-transitions"),b._target.removeClass("no-select"),$(document.body).removeAttr("unselectable"),"up"==c){var e=b._target.position().top+b._target.height();d=Math.floor($(document).height()*b._options.pivotPoint),d>e?b.animateProp("top",0-b._target.height(),!0):b.animateProp("top",0,!1)}else if("down"==c)d=Math.floor($(document).height()-$(document).height()*b._options.pivotPoint),b._target.position().top>d?b.animateProp("top",b._target.height(),!0):b.animateProp("top",0,!1);else if("left"==c){var f=b._target.position().left+b._target.width();d=Math.floor($(document).width()*b._options.pivotPoint),d>f?b.animateProp("left",0-b._target.width(),!0):b.animateProp("left",0,!1)}else"right"==c&&(d=Math.floor($(document).width()-$(document).width()*b._options.pivotPoint),b._target.position().left>d?b.animateProp("left",b._target.width(),!0):b.animateProp("left",0,!1));b._targetX=null,b._targetY=null,b._mouseX=null,b._mouseY=null}},onMove:function(a,b){var c=b._options.direction,d=b._targetY+(a.pageY-b._mouseY),e=b._targetX+(a.pageX-b._mouseX);"up"==c?d>0&&(d=0):"down"==c?0>d&&(d=0):"left"==c?e>0&&(e=0):"right"==c&&0>e&&(e=0),"up"==c||"down"==c?b._target.css("top",d):b._target.css("left",e)},animateProp:function(a,b,c){var d=this;if(this._useCSS3)this._target.css(a,b),c&&this._options.animation.fade&&this._target.css("opacity",0),this._target.on("transitionend",function(b){b.originalEvent.propertyName==a&&(d._handlingRelease=!1,c&&($(b.target).hide(),$(b.target).triggerHandler("draggablePageHidden")),$(b.target).unbind("transitionend"))});else{var e={};e[a]=b,c&&this._options.animation.fade&&(e.opacity=0),this._target.animate(e,this._options.animation.duration,"swing",function(){d._handlingRelease=!1,c&&($(this).hide(),$(this).triggerHandler("draggablePageHidden"))})}}};$.fn.draggablePage=function(a){return DraggablePage.init(this,a),this};
//# sourceMappingURL=jquery-draggablepage.min.map